import React, {useState} from "react";
import Slider from "react-slick";
import "./AdvisoryPage.css";

import Card from "../../components/Card/Card.jsx"
import CardData from "./AdvisoryStore"
import WorldMap from "./WorldMap.jsx";

const AdvisoryPage = () => {
    //for test code---
    let locate;
    let isClicked = false;
    let isClosed = false;
    // -----------------

    // Object.map then Array.map
    //city is key for object, cards is an object
    let cities = Object.keys(CardData).map(city => {
        let cards = CardData[city].map((card, index) => <><div><Card key={index} text={card.text} name={card.name} location={card.location}/></div></>);
        return (
            <>
            <div id={city} className="card-contents">
                {cards}
                <span className="close" onClick={() => closeClickHandlar()}>&times;</span>
            </div>
            </>
        );
    });

    function mouseClickHandlar(place) {
        if(!isClicked || isClosed){
            console.log("clicked")
            document.getElementById(place).classList.toggle('card-open')
            locate = place
            isClicked = !isClicked
            isClosed = false;
        }
    }
    //code that you can close Card only from close button
    function closeClickHandlar(){
        isClosed = !isClosed;
        mouseClickHandlar(locate)
    }

    return (
        <>
          <div id="country">
              {/* mouseClickHandlar(props) <= should be properties*/}
              <WorldMap>
                <svg onClick={() => mouseClickHandlar("van")} x="205" y="410" width="100" height="75" viewBox="0 0 77 47" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path className="city" d="M5.21875 43.1797L7.79688 34.625H10.4062L6.44531 46H4L0.0546875 34.625H2.65625L5.21875 43.1797ZM15.875 46C15.7708 45.7969 15.6953 45.5443 15.6484 45.2422C15.1016 45.8516 14.3906 46.1562 13.5156 46.1562C12.6875 46.1562 12 45.9167 11.4531 45.4375C10.9115 44.9583 10.6406 44.3542 10.6406 43.625C10.6406 42.7292 10.9714 42.0417 11.6328 41.5625C12.2995 41.0833 13.2604 40.8411 14.5156 40.8359H15.5547V40.3516C15.5547 39.9609 15.4531 39.6484 15.25 39.4141C15.0521 39.1797 14.737 39.0625 14.3047 39.0625C13.9245 39.0625 13.625 39.1536 13.4062 39.3359C13.1927 39.5182 13.0859 39.7682 13.0859 40.0859H10.8281C10.8281 39.5964 10.9792 39.1432 11.2812 38.7266C11.5833 38.3099 12.0104 37.9844 12.5625 37.75C13.1146 37.5104 13.7344 37.3906 14.4219 37.3906C15.4635 37.3906 16.2891 37.6536 16.8984 38.1797C17.513 38.7005 17.8203 39.4349 17.8203 40.3828V44.0469C17.8255 44.849 17.9375 45.4557 18.1562 45.8672V46H15.875ZM14.0078 44.4297C14.3411 44.4297 14.6484 44.3568 14.9297 44.2109C15.2109 44.0599 15.4193 43.8594 15.5547 43.6094V42.1562H14.7109C13.5807 42.1562 12.9792 42.5469 12.9062 43.3281L12.8984 43.4609C12.8984 43.7422 12.9974 43.974 13.1953 44.1562C13.3932 44.3385 13.6641 44.4297 14.0078 44.4297ZM21.6328 37.5469L21.7031 38.5234C22.3073 37.7682 23.1172 37.3906 24.1328 37.3906C25.0286 37.3906 25.6953 37.6536 26.1328 38.1797C26.5703 38.7057 26.7943 39.4922 26.8047 40.5391V46H24.5469V40.5938C24.5469 40.1146 24.4427 39.7682 24.2344 39.5547C24.026 39.3359 23.6797 39.2266 23.1953 39.2266C22.5599 39.2266 22.0833 39.4974 21.7656 40.0391V46H19.5078V37.5469H21.6328ZM32.0391 44.3359C32.4557 44.3359 32.7943 44.2214 33.0547 43.9922C33.3151 43.763 33.4505 43.4583 33.4609 43.0781H35.5781C35.5729 43.651 35.4167 44.1771 35.1094 44.6562C34.8021 45.1302 34.3802 45.5 33.8438 45.7656C33.3125 46.026 32.724 46.1562 32.0781 46.1562C30.8698 46.1562 29.9167 45.7734 29.2188 45.0078C28.5208 44.237 28.1719 43.1745 28.1719 41.8203V41.6719C28.1719 40.3698 28.5182 39.3307 29.2109 38.5547C29.9036 37.7786 30.8542 37.3906 32.0625 37.3906C33.1198 37.3906 33.9661 37.6927 34.6016 38.2969C35.2422 38.8958 35.5677 39.6953 35.5781 40.6953H33.4609C33.4505 40.2578 33.3151 39.9036 33.0547 39.6328C32.7943 39.3568 32.4505 39.2188 32.0234 39.2188C31.4974 39.2188 31.099 39.4115 30.8281 39.7969C30.5625 40.1771 30.4297 40.7969 30.4297 41.6562V41.8906C30.4297 42.7604 30.5625 43.3854 30.8281 43.7656C31.0938 44.1458 31.4974 44.3359 32.0391 44.3359ZM36.5156 41.6953C36.5156 40.8568 36.6771 40.1094 37 39.4531C37.3229 38.7969 37.7865 38.2891 38.3906 37.9297C39 37.5703 39.7057 37.3906 40.5078 37.3906C41.6484 37.3906 42.5781 37.7396 43.2969 38.4375C44.0208 39.1354 44.4245 40.0833 44.5078 41.2812L44.5234 41.8594C44.5234 43.1562 44.1615 44.1979 43.4375 44.9844C42.7135 45.7656 41.7422 46.1562 40.5234 46.1562C39.3047 46.1562 38.3307 45.7656 37.6016 44.9844C36.8776 44.2031 36.5156 43.1406 36.5156 41.7969V41.6953ZM38.7734 41.8594C38.7734 42.6615 38.9245 43.276 39.2266 43.7031C39.5286 44.125 39.9609 44.3359 40.5234 44.3359C41.0703 44.3359 41.4974 44.1276 41.8047 43.7109C42.112 43.2891 42.2656 42.6172 42.2656 41.6953C42.2656 40.9089 42.112 40.2995 41.8047 39.8672C41.4974 39.4349 41.0651 39.2188 40.5078 39.2188C39.9557 39.2188 39.5286 39.4349 39.2266 39.8672C38.9245 40.2943 38.7734 40.9583 38.7734 41.8594ZM50.9766 45.1406C50.4193 45.8177 49.6484 46.1562 48.6641 46.1562C47.7578 46.1562 47.0651 45.8958 46.5859 45.375C46.112 44.8542 45.8698 44.0911 45.8594 43.0859V37.5469H48.1172V43.0078C48.1172 43.888 48.5182 44.3281 49.3203 44.3281C50.0859 44.3281 50.612 44.0625 50.8984 43.5312V37.5469H53.1641V46H51.0391L50.9766 45.1406ZM58.0312 43.2422L59.6016 37.5469H61.9609L59.1094 46H56.9531L54.1016 37.5469H56.4609L58.0312 43.2422ZM66.7422 46.1562C65.5026 46.1562 64.4922 45.776 63.7109 45.0156C62.9349 44.2552 62.5469 43.2422 62.5469 41.9766V41.7578C62.5469 40.9089 62.7109 40.151 63.0391 39.4844C63.3672 38.8125 63.8307 38.2969 64.4297 37.9375C65.0339 37.5729 65.7214 37.3906 66.4922 37.3906C67.6484 37.3906 68.5573 37.7552 69.2188 38.4844C69.8854 39.2135 70.2188 40.2474 70.2188 41.5859V42.5078H64.8359C64.9089 43.0599 65.1276 43.5026 65.4922 43.8359C65.862 44.1693 66.3281 44.3359 66.8906 44.3359C67.7604 44.3359 68.4401 44.0208 68.9297 43.3906L70.0391 44.6328C69.7005 45.112 69.2422 45.487 68.6641 45.7578C68.0859 46.0234 67.4453 46.1562 66.7422 46.1562ZM66.4844 39.2188C66.0365 39.2188 65.6719 39.3698 65.3906 39.6719C65.1146 39.974 64.9375 40.4062 64.8594 40.9688H68V40.7891C67.9896 40.2891 67.8542 39.9036 67.5938 39.6328C67.3333 39.3568 66.9635 39.2188 66.4844 39.2188ZM76.2578 39.6641C75.9505 39.6224 75.6797 39.6016 75.4453 39.6016C74.5911 39.6016 74.0312 39.8906 73.7656 40.4688V46H71.5078V37.5469H73.6406L73.7031 38.5547C74.1562 37.7786 74.7839 37.3906 75.5859 37.3906C75.8359 37.3906 76.0703 37.4245 76.2891 37.4922L76.2578 39.6641Z" fill="black"/>
                  <path className="pointer" d="M40.873 30.3496C40.873 30.3496 31 17.0128 31 11.3223C31 0.118553 40.873 0 40.873 0C40.873 0 50.8692 0.118553 50.8692 11.2625C50.8692 17.1304 40.873 30.3496 40.873 30.3496ZM40.9346 5.69054C38.74 5.69054 36.9608 7.38917 36.9608 9.48424C36.9608 11.5793 38.74 13.2779 40.9346 13.2779C43.1291 13.2779 44.9084 11.5793 44.9084 9.48424C44.9084 7.38917 43.1291 5.69054 40.9346 5.69054Z" fill="#068DC2"/>
                </svg>

                <svg onClick={() => mouseClickHandlar("chicago")} x="415" y="470" width="100" height="75" viewBox="0 0 77 47" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path class="pointer" d="M28.5037 30.7536C28.5037 30.7536 18.6306 17.4168 18.6306 11.7263C18.6306 0.522545 28.5037 0.403992 28.5037 0.403992C28.5037 0.403992 38.4999 0.522545 38.4999 11.6665C38.4999 17.5344 28.5037 30.7536 28.5037 30.7536ZM28.5652 6.09454C26.3707 6.09454 24.5914 7.79317 24.5914 9.88824C24.5914 11.9833 26.3707 13.6819 28.5652 13.6819C30.7598 13.6819 32.5391 11.9833 32.5391 9.88824C32.5391 7.79317 30.7598 6.09454 28.5652 6.09454Z" fill="#068DC2"/>
                  <path class="city" d="M9.94531 43.2109C9.85677 44.4349 9.40365 45.3984 8.58594 46.1016C7.77344 46.8047 6.70052 47.1562 5.36719 47.1562C3.90885 47.1562 2.76042 46.6667 1.92188 45.6875C1.08854 44.7031 0.671875 43.3542 0.671875 41.6406V40.9453C0.671875 39.8516 0.864583 38.888 1.25 38.0547C1.63542 37.2214 2.1849 36.5833 2.89844 36.1406C3.61719 35.6927 4.45052 35.4688 5.39844 35.4688C6.71094 35.4688 7.76823 35.8203 8.57031 36.5234C9.3724 37.2266 9.83594 38.2135 9.96094 39.4844H7.61719C7.5599 38.75 7.35417 38.2188 7 37.8906C6.65104 37.5573 6.11719 37.3906 5.39844 37.3906C4.61719 37.3906 4.03125 37.6719 3.64062 38.2344C3.25521 38.7917 3.05729 39.6589 3.04688 40.8359V41.6953C3.04688 42.9245 3.23177 43.8229 3.60156 44.3906C3.97656 44.9583 4.5651 45.2422 5.36719 45.2422C6.09115 45.2422 6.63021 45.0781 6.98438 44.75C7.34375 44.4167 7.54948 43.9036 7.60156 43.2109H9.94531ZM13.5391 39.4688C14.138 38.75 14.8906 38.3906 15.7969 38.3906C17.6302 38.3906 18.5599 39.4557 18.5859 41.5859V47H16.3281V41.6484C16.3281 41.1641 16.224 40.8073 16.0156 40.5781C15.8073 40.3438 15.4609 40.2266 14.9766 40.2266C14.3151 40.2266 13.8359 40.4818 13.5391 40.9922V47H11.2812V35H13.5391V39.4688ZM22.6719 47H20.4062V38.5469H22.6719V47ZM20.2734 36.3594C20.2734 36.0208 20.3854 35.7422 20.6094 35.5234C20.8385 35.3047 21.1484 35.1953 21.5391 35.1953C21.9245 35.1953 22.2318 35.3047 22.4609 35.5234C22.6901 35.7422 22.8047 36.0208 22.8047 36.3594C22.8047 36.7031 22.6875 36.9844 22.4531 37.2031C22.224 37.4219 21.9193 37.5312 21.5391 37.5312C21.1589 37.5312 20.8516 37.4219 20.6172 37.2031C20.388 36.9844 20.2734 36.7031 20.2734 36.3594ZM28.0547 45.3359C28.4714 45.3359 28.8099 45.2214 29.0703 44.9922C29.3307 44.763 29.4661 44.4583 29.4766 44.0781H31.5938C31.5885 44.651 31.4323 45.1771 31.125 45.6562C30.8177 46.1302 30.3958 46.5 29.8594 46.7656C29.3281 47.026 28.7396 47.1562 28.0938 47.1562C26.8854 47.1562 25.9323 46.7734 25.2344 46.0078C24.5365 45.237 24.1875 44.1745 24.1875 42.8203V42.6719C24.1875 41.3698 24.5339 40.3307 25.2266 39.5547C25.9193 38.7786 26.8698 38.3906 28.0781 38.3906C29.1354 38.3906 29.9818 38.6927 30.6172 39.2969C31.2578 39.8958 31.5833 40.6953 31.5938 41.6953H29.4766C29.4661 41.2578 29.3307 40.9036 29.0703 40.6328C28.8099 40.3568 28.4661 40.2188 28.0391 40.2188C27.513 40.2188 27.1146 40.4115 26.8438 40.7969C26.5781 41.1771 26.4453 41.7969 26.4453 42.6562V42.8906C26.4453 43.7604 26.5781 44.3854 26.8438 44.7656C27.1094 45.1458 27.513 45.3359 28.0547 45.3359ZM37.7812 47C37.6771 46.7969 37.6016 46.5443 37.5547 46.2422C37.0078 46.8516 36.2969 47.1562 35.4219 47.1562C34.5938 47.1562 33.9062 46.9167 33.3594 46.4375C32.8177 45.9583 32.5469 45.3542 32.5469 44.625C32.5469 43.7292 32.8776 43.0417 33.5391 42.5625C34.2057 42.0833 35.1667 41.8411 36.4219 41.8359H37.4609V41.3516C37.4609 40.9609 37.3594 40.6484 37.1562 40.4141C36.9583 40.1797 36.6432 40.0625 36.2109 40.0625C35.8307 40.0625 35.5312 40.1536 35.3125 40.3359C35.099 40.5182 34.9922 40.7682 34.9922 41.0859H32.7344C32.7344 40.5964 32.8854 40.1432 33.1875 39.7266C33.4896 39.3099 33.9167 38.9844 34.4688 38.75C35.0208 38.5104 35.6406 38.3906 36.3281 38.3906C37.3698 38.3906 38.1953 38.6536 38.8047 39.1797C39.4193 39.7005 39.7266 40.4349 39.7266 41.3828V45.0469C39.7318 45.849 39.8438 46.4557 40.0625 46.8672V47H37.7812ZM35.9141 45.4297C36.2474 45.4297 36.5547 45.3568 36.8359 45.2109C37.1172 45.0599 37.3255 44.8594 37.4609 44.6094V43.1562H36.6172C35.487 43.1562 34.8854 43.5469 34.8125 44.3281L34.8047 44.4609C34.8047 44.7422 34.9036 44.974 35.1016 45.1562C35.2995 45.3385 35.5703 45.4297 35.9141 45.4297ZM41.1328 42.7109C41.1328 41.4141 41.4401 40.3698 42.0547 39.5781C42.6745 38.7865 43.5078 38.3906 44.5547 38.3906C45.4818 38.3906 46.2031 38.7083 46.7188 39.3438L46.8125 38.5469H48.8594V46.7188C48.8594 47.4583 48.6901 48.1016 48.3516 48.6484C48.0182 49.1953 47.5469 49.612 46.9375 49.8984C46.3281 50.1849 45.6146 50.3281 44.7969 50.3281C44.1771 50.3281 43.5729 50.2031 42.9844 49.9531C42.3958 49.7083 41.9505 49.3906 41.6484 49L42.6484 47.625C43.2109 48.2552 43.8932 48.5703 44.6953 48.5703C45.2943 48.5703 45.7604 48.4089 46.0938 48.0859C46.4271 47.7682 46.5938 47.3151 46.5938 46.7266V46.2734C46.0729 46.862 45.388 47.1562 44.5391 47.1562C43.5234 47.1562 42.7005 46.7604 42.0703 45.9688C41.4453 45.1719 41.1328 44.1172 41.1328 42.8047V42.7109ZM43.3906 42.875C43.3906 43.6406 43.5443 44.2422 43.8516 44.6797C44.1589 45.112 44.5807 45.3281 45.1172 45.3281C45.8047 45.3281 46.2969 45.0703 46.5938 44.5547V41C46.2917 40.4844 45.8047 40.2266 45.1328 40.2266C44.5911 40.2266 44.1641 40.4479 43.8516 40.8906C43.5443 41.3333 43.3906 41.9948 43.3906 42.875ZM50.25 42.6953C50.25 41.8568 50.4115 41.1094 50.7344 40.4531C51.0573 39.7969 51.5208 39.2891 52.125 38.9297C52.7344 38.5703 53.4401 38.3906 54.2422 38.3906C55.3828 38.3906 56.3125 38.7396 57.0312 39.4375C57.7552 40.1354 58.1589 41.0833 58.2422 42.2812L58.2578 42.8594C58.2578 44.1562 57.8958 45.1979 57.1719 45.9844C56.4479 46.7656 55.4766 47.1562 54.2578 47.1562C53.0391 47.1562 52.0651 46.7656 51.3359 45.9844C50.612 45.2031 50.25 44.1406 50.25 42.7969V42.6953ZM52.5078 42.8594C52.5078 43.6615 52.6589 44.276 52.9609 44.7031C53.263 45.125 53.6953 45.3359 54.2578 45.3359C54.8047 45.3359 55.2318 45.1276 55.5391 44.7109C55.8464 44.2891 56 43.6172 56 42.6953C56 41.9089 55.8464 41.2995 55.5391 40.8672C55.2318 40.4349 54.7995 40.2188 54.2422 40.2188C53.6901 40.2188 53.263 40.4349 52.9609 40.8672C52.6589 41.2943 52.5078 41.9583 52.5078 42.8594Z" fill="black"/>
                </svg>

              </WorldMap>

          </div>
          <div id="card-component" className="card-component">
              {cities}
          </div>
        </>
    )
}


// <div className="vector vector1"><img className="point" onClick={() => mouseClickHandlar("chicago")} src={vector} ></img><p>Chicago</p></div>
// <div className="vector vector2"><img className="point" onClick={() => mouseClickHandlar("van")} src={vector} ></img><p>Vancouver</p></div>
// <div className="vector vector3"><img className="point" onClick={() => mouseClickHandlar("la")} src={vector} ></img><p>Los Angels</p></div>
// <div className="vector vector4"><img className="point" onClick={() => mouseClickHandlar("nyc")} src={vector} ></img><p>New york City</p></div>
// <div className="vector vector5"><img className="point" onClick={() => mouseClickHandlar("dallas")} src={vector} ></img><p>Dallas</p></div>
// <div className="vector vector6"><img className="point" onClick={() => mouseClickHandlar("mexico")} src={vector} ></img><p>Mexico City</p></div>
// <div className="vector vector7"><img className="point" onClick={() => mouseClickHandlar("berlin")} src={vector} ></img><p>Berlin</p></div>
export default AdvisoryPage;
